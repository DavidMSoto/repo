knitr::opts_chunk$set(echo = TRUE)
library(ff)
library(ggplot2)
library(dplyr)
library(grid)
library(gridExtra)
library(leaflet)
library(ggmap)
require(cowplot)
require(cowplot)
install.packages("cowplot")
require(cowplot)
tb = read.csv("../input/NYPD_7_FELONIES_2006_2015.csv", header=T, sep=",", stringsAsFactors=F)
tb = t_2006_to_2015
str(tb)
setwd("~/dataScience/projects/repo/crime/code/")
tb = read.csv("../input/NYPD_7_FELONIES_2006_2015.csv", header=T, sep=",", stringsAsFactors=F)
tb = t_2006_to_2015
str(tb)
t_total_count_by_year_and_offense = tb %>%
group_by(Occurrence.Year, Offense) %>% summarise(count=n())
ggplot(data=t_total_count_by_year_and_offense, aes(x=as.numeric(Occurrence.Year), y=count)) +
ggtitle("Number of offense insidents over the last 10 years (2006-2015)") +
xlab("Year from 2006 to 2015") +
ylab("Number of incidents") +
geom_point(aes(color=Offense), size=5.0) +
geom_line(aes(color=Offense), size=2.0)
View(tb)
t_MANHATTAN_2015 = tb %>% filter(Borough=="MANHATTAN", Occurrence.Year=="2015")
leaflet(tb, height=300, width=900) %>%
addTiles() %>%  # Add default OpenStreetMap map tiles
addMarkers(lng=t_MANHATTAN_2015$loc_y, lat=t_MANHATTAN_2015$loc_x,
clusterOptions = markerClusterOptions())
rm(list = ls())
setwd("~/dataScience/projects/repo/crime/code/")
tb = read.csv("../input/NYPD_7_FELONIES_2006_2015.csv", header=T, sep=",", stringsAsFactors=F)
tb = t_2006_to_2015
str(tb)
tb = tb %>% mutate(lon=loc_y, lat=loc_x);
View(tb)
leaflet(tb, height=300, width=900) %>%
addTiles() %>%  # Add default OpenStreetMap map tiles
addMarkers(lng=tb$loc_y, lat=tb$loc_x,
clusterOptions = markerClusterOptions())
View(tb)
t_MANHATTAN_2015 = tb %>% filter(Borough=="MANHATTAN", Occurrence.Year=="2015")
leaflet(tb, height=300, width=900) %>%
addTiles() %>%  # Add default OpenStreetMap map tiles
addMarkers(lng=tb$lon, lat=tb$lat,
clusterOptions = markerClusterOptions())
t_MANHATTAN_2015 = tb %>% filter(Borough=="MANHATTAN", Occurrence.Year=="2015")
leaflet(t_MANHATTAN_2015, height=300, width=900) %>%
addTiles() %>%  # Add default OpenStreetMap map tiles
addMarkers(lng=tb$lon, lat=tb$lat,
clusterOptions = markerClusterOptions())
t_MANHATTAN_2015 = tb %>% filter(Borough=="MANHATTAN", Occurrence.Year=="2015")
leaflet(t_MANHATTAN_2015, height=300, width=900) %>%
addTiles() %>%  # Add default OpenStreetMap map tiles
addMarkers(lng=tb$lon, lat=tb$lat,
clusterOptions = markerClusterOptions())
